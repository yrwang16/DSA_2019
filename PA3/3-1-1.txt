1. 对于此题的有向无环图，选择使用拓扑排序的方法确定城市先后顺序，从而获得路线上的先后顺序。
2. 具体实现使用邻接表来表示DAG以节省空间，空间复杂度O（N），使用推广的DFS来实现拓扑排序，时间复杂度为O（N+V）。
3. 拓扑排序后，从首节点开始进行向下的price更新过程。
4. 具体实现类似最短路径算法的相反版本，即对每个节点维护一个从上游节点到此节点的price的最大值。
5. 从第一个节点开始，遍历他的所有邻居，并对邻居进行优先级更新：若从上游到自身的price+自己到邻居的price大于邻居当前维护的price最大值，
则更新该邻居的price为自身的price+自己到邻居的price。
6. 进行过程中同时维护max_price为遍历过程中出现过的price最大值，即为答案。